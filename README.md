# Плохие практики
![imgs/badpractice1.png](imgs/badpractice1.png)<br>
Команду RUN можно было вызвать один раз, добавив "\ " в конце первой строки.
Это замедляет сборку образа и увеличивает его размер.<br>
![imgs/badpractice2.png](imgs/badpractice1.png)<br>
Использование суперпользователя вместо непривилигированного пользователя
приводит к угрозам безопасности:
есть риск эксплоита контейнерного приложения
для получения доступа к управлению хостом,
и в целом использование суперпользователя - это постоянный риск
нарушения изоляции между контейнером и хостом
и потенциальные изменения в самом хосте,
так как контейнер и хост работают с общим ядром системы.<br>
![imgs/badpractice3.png](imgs/badpractice3.png)<br>
Ненужные операции замедляют сборку образа,
ухудшают читабельность кода.
В категорию подобных плохих практики
в целом входит любой излишний код и данные в Dockerfile
(будь то бесполезные команды, ненужные пакеты и т. д.)<br>
# Исправление плохих практик
![imgs/badpractice1-fixed.png](imgs/badpractice1-fixed.png)<br>
Оптимизируем размер и скорость сборки образа.<br>
![imgs/badpractice2-fixed.png](imgs/badpractice2-fixed.png)<br>
Новый пользователь ограничен и используется исключительно для образов
этого Dockerfile.<br>
![imgs/badpractice3-fixed.png](imgs/badpractice3-fixed.png)<br>
Избавляемся от бесцельных команд.<br>


